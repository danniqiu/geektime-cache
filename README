《分布式缓存笔记》

缓存定义：可以进行高速数据交换的存储器
系统级缓存：硬件缓存、CPU缓存（CPU与内存之间的高速缓存L1d Cache(数据缓存) L1i Cache（指令缓存）、L2 Cache、L3 Cache）

缓存淘汰策略：
先进先出-FIFO 
最不经常使用-LFU
最近最少使用-LRU
LRU是Least Recently Used最近最少用，淘汰最长时间没有使用-通过时间判断
LFU是Least Frequently Used最不经常用，淘汰一段时间内使用次数最少的-通过访问频次判断 （默认设置)

缓存应用场景：
前提：应用抗不住并发量的时候才会使用缓存
1. 将数据库的部分数据加入缓存（数据量比较大，热点数据）
2. 列表排序分页等场景（有时候一些数据会经常改变，我们会经常对一些数据进行分页或者是把一些数据库的数据拿出来做排序，这种情况下可能会将这些数据加入缓存中，然后在缓存当中进行排序、分页等等这些操作，来提交一些效率）
2. 计数器：用缓存来做并发计数、
3. 详情内容数据缓存（详情页）
4. 分布式session(会话缓存，集群或微服务多台应用服务器 存储登录态token）
5. 热点数据排名（zset 排行榜，评价系统，积分排名系统)
6. 发布订阅：轻量级的发布订阅模型，list类型双向链表，通过lpush和rpop写读消息，类似MQ
7. 分布式锁（数据库、zk、consul、etcd、redis)

持久化：
持久化就是把内存数据写到磁盘中，防止服务宕机内存数据丢失。
redis持久化机制：RDB(默认）和AOF机制
RDB:redis DataBase 缩写快照， 按照一定时间将内存数据以照快照形式保存到磁盘中，产生数据文件 dump.rdb。
AOF：持久化append only file 将redis 执行的每次写命令记录到单独的日志文件中，保存为aof文件。
